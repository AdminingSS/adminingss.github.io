"use strict";function sndsy_dataUpdate(s){sndsyApi.basketUpdate(s)}!function(){window.sndsyApi=window.sndsyApi||{};var s={isU:function(s){return"undefined"==typeof s},toInt:function(s){return"number"==typeof s?s:parseInt(s,10)},isDevMode:!1,setDevMode:function(s){var t=s||!0;"undefined"!=typeof localStorage&&localStorage[t?"setItem":"removeItem"]("sndsyApi_developMode",1),this.isDevMode=t},dateFormat:function(s){var t=s||new Date;this.isU(s)&&t.setHours(t.getHours()+3);var e=function(s){return parseInt(s,10)<10?"0"+s:s},i=t.getUTCFullYear(),n=t.getUTCMonth()+1,s=t.getUTCDate(),d=t.getUTCHours(),a=t.getUTCMinutes(),o=t.getUTCSeconds();return i+"-"+e(n)+"-"+e(s)+" "+e(d)+":"+e(a)+":"+e(o)},addData:function(s,t){!this.isU(sndsyData.ADD_KEY)&&sndsyData.ADD_KEY||console.warn('sndsyData:addData -> "ADD_KEY" is not defined'),!this.isU(this.ADD_KEY)&&this.ADD_KEY||console.warn('sndsyApi:addData -> "ADD_KEY" is not defined');var e={dk:[[this.ADD_KEY||sndsyData.ADD_KEY,"merge",t]]};this.isDevMode&&console.log("Send: ",e),this.send("send",e)},setData:function(s,t){if(this.isDevMode&&console.log("sndsyApi:setData ...",s),s){var e=t||{},i={dk:[[this.SET_KEY||sndsyData.SET_KEY,"set",s]],is_basket:1,url:"NONE"};for(var n in e)i[n]=e[n];this.isDevMode&&console.log("Send: ",i),this.send("send",i)}},send:function(s,t){t.versioning=this.VERSIONING_KEY||sndsyData.VERSIONING_KEY,sndsy(s,t),this.isDevMode&&console.log("sndsyApi -> send()",arguments)},basketUpdate:function(s,t,e){this.isDevMode&&console.log("Call sndsyApi.basketUpdate ...");var e=e||{},i={datetime:sndsyApi.dateFormat(),id:e.id||"",items:{},summ:0,payment_datetime:e.payment_datetime||""};for(var n in s){var d=s[n];i.items[d.id]={};for(var a in s[n]){var o=a;"qty"!=a&&"quantity"!=a||(o="count"),i.items[d.id][o]=s[n][a]}this.isU(i.items[d.id].price)||this.isU(i.items[d.id].count)||(i.summ+=this.toInt(i.items[d.id].price)*this.toInt(i.items[d.id].count))}sndsyApi.setData(i,t||{})},basketClear:function(s){this.isDevMode&&console.log("Call sndsyApi.basketClear ..."),this.basketUpdate({},s||{})}};for(var t in s)window.sndsyApi[t]=window.sndsyApi[t]||s[t]}();try{var ismsg=localStorage.getItem("sndsyApi_developMode");isD(ismsg)&&ismsg&&(window.sndsyApi.isDevMode=!0)}catch(e){}